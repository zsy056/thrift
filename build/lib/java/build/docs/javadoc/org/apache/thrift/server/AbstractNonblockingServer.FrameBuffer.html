<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>AbstractNonblockingServer.FrameBuffer (libthrift 0.23.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.thrift.server, class: AbstractNonblockingServer, class: FrameBuffer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.thrift.server</a></div>
<h1 title="Class AbstractNonblockingServer.FrameBuffer" class="title">Class AbstractNonblockingServer.FrameBuffer</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.thrift.server.AbstractNonblockingServer.FrameBuffer</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="AbstractNonblockingServer.AsyncFrameBuffer.html" title="class in org.apache.thrift.server">AbstractNonblockingServer.AsyncFrameBuffer</a></code></dd>
</dl>
<dl class="notes">
<dt>Enclosing class:</dt>
<dd><a href="AbstractNonblockingServer.html" title="class in org.apache.thrift.server">AbstractNonblockingServer</a></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">AbstractNonblockingServer.FrameBuffer</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Class that implements a sort of state machine around the interaction with a client and an
 invoker. It manages reading the frame size and frame data, getting it handed off as wrapped
 transports, and then the writing of response data back to the client. In the process it manages
 flipping the read and write bits on the selection key for its client.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></code></div>
<div class="col-second even-row-color"><code><a href="#buffer_" class="member-name-link">buffer_</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="ServerContext.html" title="interface in org.apache.thrift.server">ServerContext</a></code></div>
<div class="col-second odd-row-color"><code><a href="#context_" class="member-name-link">context_</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="../transport/TMemoryInputTransport.html" title="class in org.apache.thrift.transport">TMemoryInputTransport</a></code></div>
<div class="col-second even-row-color"><code><a href="#frameTrans_" class="member-name-link">frameTrans_</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="../protocol/TProtocol.html" title="class in org.apache.thrift.protocol">TProtocol</a></code></div>
<div class="col-second odd-row-color"><code><a href="#inProt_" class="member-name-link">inProt_</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="../transport/TTransport.html" title="class in org.apache.thrift.transport">TTransport</a></code></div>
<div class="col-second even-row-color"><code><a href="#inTrans_" class="member-name-link">inTrans_</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="../protocol/TProtocol.html" title="class in org.apache.thrift.protocol">TProtocol</a></code></div>
<div class="col-second odd-row-color"><code><a href="#outProt_" class="member-name-link">outProt_</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="../transport/TTransport.html" title="class in org.apache.thrift.transport">TTransport</a></code></div>
<div class="col-second even-row-color"><code><a href="#outTrans_" class="member-name-link">outTrans_</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="../TByteArrayOutputStream.html" title="class in org.apache.thrift">TByteArrayOutputStream</a></code></div>
<div class="col-second odd-row-color"><code><a href="#response_" class="member-name-link">response_</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a></code></div>
<div class="col-second even-row-color"><code><a href="#selectionKey_" class="member-name-link">selectionKey_</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="AbstractNonblockingServer.AbstractSelectThread.html" title="class in org.apache.thrift.server">AbstractNonblockingServer.AbstractSelectThread</a></code></div>
<div class="col-second odd-row-color"><code><a href="#selectThread_" class="member-name-link">selectThread_</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected org.apache.thrift.server.AbstractNonblockingServer.FrameBufferState</code></div>
<div class="col-second even-row-color"><code><a href="#state_" class="member-name-link">state_</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="../transport/TNonblockingTransport.html" title="class in org.apache.thrift.transport">TNonblockingTransport</a></code></div>
<div class="col-second odd-row-color"><code><a href="#trans_" class="member-name-link">trans_</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.thrift.transport.TNonblockingTransport,java.nio.channels.SelectionKey,org.apache.thrift.server.AbstractNonblockingServer.AbstractSelectThread)" class="member-name-link">FrameBuffer</a><wbr>(<a href="../transport/TNonblockingTransport.html" title="class in org.apache.thrift.transport">TNonblockingTransport</a>&nbsp;trans,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a>&nbsp;selectionKey,
 <a href="AbstractNonblockingServer.AbstractSelectThread.html" title="class in org.apache.thrift.server">AbstractNonblockingServer.AbstractSelectThread</a>&nbsp;selectThread)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#changeSelectInterests()" class="member-name-link">changeSelectInterests</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Give this FrameBuffer a chance to set its interest to write, once data has come in.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Shut the connection down.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReadBufferBytesAllocated()" class="member-name-link">getReadBufferBytesAllocated</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#invoke()" class="member-name-link">invoke</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Actually invoke the method signified by this FrameBuffer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isFrameFullyRead()" class="member-name-link">isFrameFullyRead</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if this FrameBuffer has a full frame read.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#read()" class="member-name-link">read</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Give this FrameBuffer a chance to read.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#requestSelectInterestChange()" class="member-name-link">requestSelectInterestChange</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">When this FrameBuffer needs to change its select interests and execution might not be in its
 select thread, then this method will make sure the interest change gets done when the select
 thread wakes back up.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#responseReady()" class="member-name-link">responseReady</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">After the processor has processed the invocation, whatever thread is managing invocations
 should call this method on this FrameBuffer so we know it's time to start trying to write
 again.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSelectionKey(java.nio.channels.SelectionKey)" class="member-name-link">setSelectionKey</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a>&nbsp;selectionKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the selection key (this is not thread safe).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#write()" class="member-name-link">write</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Give this FrameBuffer a chance to write its output to the final client.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="trans_">
<h3>trans_</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../transport/TNonblockingTransport.html" title="class in org.apache.thrift.transport">TNonblockingTransport</a></span>&nbsp;<span class="element-name">trans_</span></div>
</section>
</li>
<li>
<section class="detail" id="selectionKey_">
<h3>selectionKey_</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a></span>&nbsp;<span class="element-name">selectionKey_</span></div>
</section>
</li>
<li>
<section class="detail" id="selectThread_">
<h3>selectThread_</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="AbstractNonblockingServer.AbstractSelectThread.html" title="class in org.apache.thrift.server">AbstractNonblockingServer.AbstractSelectThread</a></span>&nbsp;<span class="element-name">selectThread_</span></div>
</section>
</li>
<li>
<section class="detail" id="state_">
<h3>state_</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.apache.thrift.server.AbstractNonblockingServer.FrameBufferState</span>&nbsp;<span class="element-name">state_</span></div>
</section>
</li>
<li>
<section class="detail" id="buffer_">
<h3>buffer_</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></span>&nbsp;<span class="element-name">buffer_</span></div>
</section>
</li>
<li>
<section class="detail" id="response_">
<h3>response_</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../TByteArrayOutputStream.html" title="class in org.apache.thrift">TByteArrayOutputStream</a></span>&nbsp;<span class="element-name">response_</span></div>
</section>
</li>
<li>
<section class="detail" id="frameTrans_">
<h3>frameTrans_</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../transport/TMemoryInputTransport.html" title="class in org.apache.thrift.transport">TMemoryInputTransport</a></span>&nbsp;<span class="element-name">frameTrans_</span></div>
</section>
</li>
<li>
<section class="detail" id="inTrans_">
<h3>inTrans_</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../transport/TTransport.html" title="class in org.apache.thrift.transport">TTransport</a></span>&nbsp;<span class="element-name">inTrans_</span></div>
</section>
</li>
<li>
<section class="detail" id="outTrans_">
<h3>outTrans_</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../transport/TTransport.html" title="class in org.apache.thrift.transport">TTransport</a></span>&nbsp;<span class="element-name">outTrans_</span></div>
</section>
</li>
<li>
<section class="detail" id="inProt_">
<h3>inProt_</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../protocol/TProtocol.html" title="class in org.apache.thrift.protocol">TProtocol</a></span>&nbsp;<span class="element-name">inProt_</span></div>
</section>
</li>
<li>
<section class="detail" id="outProt_">
<h3>outProt_</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../protocol/TProtocol.html" title="class in org.apache.thrift.protocol">TProtocol</a></span>&nbsp;<span class="element-name">outProt_</span></div>
</section>
</li>
<li>
<section class="detail" id="context_">
<h3>context_</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="ServerContext.html" title="interface in org.apache.thrift.server">ServerContext</a></span>&nbsp;<span class="element-name">context_</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.thrift.transport.TNonblockingTransport,java.nio.channels.SelectionKey,org.apache.thrift.server.AbstractNonblockingServer.AbstractSelectThread)">
<h3>FrameBuffer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">FrameBuffer</span><wbr><span class="parameters">(<a href="../transport/TNonblockingTransport.html" title="class in org.apache.thrift.transport">TNonblockingTransport</a>&nbsp;trans,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a>&nbsp;selectionKey,
 <a href="AbstractNonblockingServer.AbstractSelectThread.html" title="class in org.apache.thrift.server">AbstractNonblockingServer.AbstractSelectThread</a>&nbsp;selectThread)</span>
            throws <span class="exceptions"><a href="../transport/TTransportException.html" title="class in org.apache.thrift.transport">TTransportException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../transport/TTransportException.html" title="class in org.apache.thrift.transport">TTransportException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setSelectionKey(java.nio.channels.SelectionKey)">
<h3>setSelectionKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setSelectionKey</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a>&nbsp;selectionKey)</span></div>
<div class="block">Sets the selection key (this is not thread safe).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>selectionKey</code> - the new key to set.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReadBufferBytesAllocated()">
<h3>getReadBufferBytesAllocated</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getReadBufferBytesAllocated</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the amount of memory currently used to read data from clients. This information can
     be useful for debugging, metrics, and configuring the maximum memory limit.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="read()">
<h3>read</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">read</span>()</div>
<div class="block">Give this FrameBuffer a chance to read. The selector loop should have received a read event
 for this FrameBuffer.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the connection should live on, false if it should be closed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="write()">
<h3>write</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">write</span>()</div>
<div class="block">Give this FrameBuffer a chance to write its output to the final client.</div>
</section>
</li>
<li>
<section class="detail" id="changeSelectInterests()">
<h3>changeSelectInterests</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">changeSelectInterests</span>()</div>
<div class="block">Give this FrameBuffer a chance to set its interest to write, once data has come in.</div>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Shut the connection down.</div>
</section>
</li>
<li>
<section class="detail" id="isFrameFullyRead()">
<h3>isFrameFullyRead</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isFrameFullyRead</span>()</div>
<div class="block">Check if this FrameBuffer has a full frame read.</div>
</section>
</li>
<li>
<section class="detail" id="responseReady()">
<h3>responseReady</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">responseReady</span>()</div>
<div class="block">After the processor has processed the invocation, whatever thread is managing invocations
 should call this method on this FrameBuffer so we know it's time to start trying to write
 again. Also, if it turns out that there actually isn't any data in the response buffer, we'll
 skip trying to write and instead go back to reading.</div>
</section>
</li>
<li>
<section class="detail" id="invoke()">
<h3>invoke</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">invoke</span>()</div>
<div class="block">Actually invoke the method signified by this FrameBuffer.</div>
</section>
</li>
<li>
<section class="detail" id="requestSelectInterestChange()">
<h3>requestSelectInterestChange</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">requestSelectInterestChange</span>()</div>
<div class="block">When this FrameBuffer needs to change its select interests and execution might not be in its
 select thread, then this method will make sure the interest change gets done when the select
 thread wakes back up. When the current thread is this FrameBuffer's select thread, then it
 just does the interest change immediately.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
